{% extends "base.html" %}

{# Bloque para cargar los estilos específicos de esta página #}
{% block page_styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/stylesusers.css') }}">
{% endblock %}

{# Bloque de contenido principal que se inserta en base.html #}
{% block content %}
    <div class="title-page"> 
        <h2>Registro de Usuarios</h2>
    </div>

    <main>
        <div class="registro">
            <form method="POST" action="{{ url_for('auth.register') }}">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>

                <label for="correo">Correo electrónico:</label>
                <input type="email" id="correo" name="correo" required>

                <label for="contrasena">Contraseña:</label>
                <input type="password" id="contrasena" name="contrasena" required>

                <label for="rol">Rol:</label>
                <select id="rol" name="rol_id" required> {# <-- CAMBIO IMPORTANTE: el name debe ser 'rol_id' #}
                    {% for rol in roles %}
                        <option value="{{ rol.id }}">{{ rol.nombre }}</option>
                    {% endfor %}
                </select>
                <button class="submit" type="submit">Registrar</button>
            </form>
        </div>
        <div class="back-button">
            <a href="{{ url_for('main.dashboard') }}">Volver al Dashboard</a>
        </div> 
    </main>
{% endblock %}