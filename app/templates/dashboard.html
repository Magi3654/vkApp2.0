{% extends "base.html" %}

{% block page_styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/stylesdash.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard">
    <div class="dashboard-header">
        <h1>Bienvenido al Hub, {{ current_user.nombre }}</h1>
        <p>Gestiona las operaciones administrativas de la agencia desde aquí.</p>
    </div>

    <!-- Sección de Acciones Rápidas (CRUD) -->
    <div class="section-title">Acciones Principales</div>
    <div class="actions-grid">
        <a href="{{ url_for('main.nuevo_desglose_form') }}" class="card new-item-card">
            <div class="card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line></svg>
            </div>
            <div class="card-body">
                <h3>Nuevo Desglose</h3>
                <p>Crear un nuevo desglose de servicios para una empresa.</p>
            </div>
        </a>
        <a href="{{ url_for('main.nueva_papeleta_form') }}" class="card new-item-card">
            <div class="card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg>
            </div>
            <div class="card-body">
                <h3>Nueva Papeleta</h3>
                <p>Registrar un nuevo cargo a tarjeta de crédito.</p>
            </div>
        </a>
    </div>

    <!-- Sección de Consultas y Búsquedas -->
    <div class="section-title">Consultas y Registros</div>
    <div class="management-grid">
        <a href="{{ url_for('main.desgloses') }}" class="card">
            <h3>Consultar Desgloses</h3>
            <p>Buscar, ver y editar desgloses existentes.</p>
        </a>
        <a href="{{ url_for('main.consulta_papeletas') }}" class="card">
            <h3>Consultar Papeletas</h3>
            <p>Buscar y gestionar los cargos registrados.</p>
        </a>
    </div>

    <!-- Sección de Administración (Solo para Admins) -->
    {% if current_user.is_authenticated and current_user.es_admin() %}
    <div class="section-title admin-section">Panel de Administrador</div>
    <div class="management-grid">
        <a href="{{ url_for('main.empresas') }}" class="card">
            <h3>Gestionar Empresas</h3>
            <p>Añadir o editar empresas cliente.</p>
        </a>
        <a href="{{ url_for('main.usuarios') }}" class="card">
            <h3>Gestionar Usuarios</h3>
            <p>Crear y administrar cuentas de empleados.</p>
        </a>
        <a href="{{ url_for('main.tarjetas') }}" class="card">
            <h3>Gestionar Tarjetas</h3>
            <p>Administrar tarjetas corporativas.</p>
        </a>
        <a href="{{ url_for('main.sucursales') }}" class="card">
            <h3>Gestionar Sucursales</h3>
            <p>Configurar sucursales del sistema.</p>
        </a>
    </div>
    {% endif %}

</div>
{% endblock %}