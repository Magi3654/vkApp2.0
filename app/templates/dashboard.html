{% extends "base.html" %}

{% block page_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/stylesdash.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard">
    <div class="dashboard-header">
        <h1>Bienvenido al Hub, {{ current_user.nombre }}</h1>
        <p>Gestiona las operaciones administrativas de la agencia desde aquí.</p>
    </div>

    <!-- Sección de Acciones Rápidas -->
    <div class="section-title">Acciones Principales</div>
    <div class="actions-grid">
        <a href="{{ url_for('main.nuevo_desglose_form') }}" class="card new-item-card">
            <div class="card-icon">
                <i class="fas fa-file-invoice-dollar"></i>
            </div>
            <div class="card-body">
                <h3>Nuevo Desglose</h3>
                <p>Crear un nuevo desglose de servicios para una empresa.</p>
            </div>
        </a>
        <a href="{{ url_for('main.nueva_papeleta_form') }}" class="card new-item-card">
            <div class="card-icon">
                <i class="fas fa-credit-card"></i>
            </div>
            <div class="card-body">
                <h3>Nueva Papeleta</h3>
                <p>Registrar un nuevo cargo a tarjeta de crédito.</p>
            </div>
        </a>
    </div>

    <!-- Sección de Consultas -->
    <div class="section-title">Consultas y Registros</div>
    <div class="management-grid">
        <a href="{{ url_for('main.desgloses') }}" class="card">
            <h3><i class="fas fa-search"></i> Consultar Desgloses</h3>
            <p>Buscar, ver y editar desgloses existentes.</p>
        </a>
        <a href="{{ url_for('main.consulta_papeletas') }}" class="card">
            <h3><i class="fas fa-receipt"></i> Consultar Papeletas</h3>
            <p>Buscar y gestionar los cargos registrados.</p>
        </a>
    </div>

    <!-- Sección de Administración -->
    {% if current_user.is_authenticated and current_user.es_admin() %}
    <div class="section-title admin-section">Panel de Administrador</div>
    <div class="management-grid">
        <a href="{{ url_for('main.empresas') }}" class="card">
            <h3><i class="fas fa-building"></i> Gestionar Empresas</h3>
            <p>Añadir o editar empresas cliente.</p>
        </a>
        <a href="{{ url_for('main.usuarios') }}" class="card">
            <h3><i class="fas fa-users"></i> Gestionar Usuarios</h3>
            <p>Crear y administrar cuentas de empleados.</p>
        </a>
        <a href="{{ url_for('main.tarjetas') }}" class="card">
            <h3><i class="fas fa-credit-card"></i> Gestionar Tarjetas</h3>
            <p>Administrar tarjetas corporativas.</p>
        </a>
        <a href="{{ url_for('main.sucursales') }}" class="card">
            <h3><i class="fas fa-map-marker-alt"></i> Gestionar Sucursales</h3>
            <p>Configurar sucursales del sistema.</p>
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}